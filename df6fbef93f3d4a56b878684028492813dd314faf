{
  "comments": [
    {
      "key": {
        "uuid": "3acd31a7_54ad2c30",
        "filename": "db_scripts/diff/15418.up",
        "patchSetId": 14
      },
      "lineNbr": 3,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2018-07-17T13:34:52Z",
      "side": 1,
      "message": "i was considering palcing a table-level read lock for billing.billing mappings at this point.\n\nbut the point is, since this is replicated, there should not be contracts created or edited during the upgrade.\n\nthis step will presumably take around 10-15 min for 50k subs.",
      "revId": "df6fbef93f3d4a56b878684028492813dd314faf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3acd31a7_14a7b450",
        "filename": "db_scripts/diff/15418.up",
        "patchSetId": 14
      },
      "lineNbr": 3,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2018-07-17T13:44:35Z",
      "side": 1,
      "message": "yes, a read/write lock makes sense here.",
      "parentUuid": "3acd31a7_54ad2c30",
      "revId": "df6fbef93f3d4a56b878684028492813dd314faf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3acd31a7_747708d5",
        "filename": "db_scripts/diff/15419.up",
        "patchSetId": 14
      },
      "lineNbr": 5,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2018-07-17T13:48:39Z",
      "side": 1,
      "message": "if this is the \"end-user\" procedure to add the mapping why there is no \"end_date\" ? also it is in unixtime where in the result we have it in datetime (\u003dcumbersome)",
      "range": {
        "startLine": 5,
        "startChar": 28,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "df6fbef93f3d4a56b878684028492813dd314faf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3acd31a7_d41c9c79",
        "filename": "db_scripts/diff/15419.up",
        "patchSetId": 14
      },
      "lineNbr": 5,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2018-07-17T14:20:11Z",
      "side": 1,
      "message": "this one is intended to set a contracts billing profile (it shouldnt even have a _start arg, but was added to allow setting the profile while creating the balance records). epoch because that\u0027s whats natively provided in swrate and rate-o-mat.\n\nthose methods here are the minimal set that are needed so far. additional overloads can be added when needed.",
      "parentUuid": "3acd31a7_747708d5",
      "range": {
        "startLine": 5,
        "startChar": 28,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "df6fbef93f3d4a56b878684028492813dd314faf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3acd31a7_94162454",
        "filename": "db_scripts/diff/15419.up",
        "patchSetId": 14
      },
      "lineNbr": 5,
      "author": {
        "id": 1000004
      },
      "writtenOn": "2018-07-17T14:23:54Z",
      "side": 1,
      "message": "example:\nI have a contract and I want to schedule billing_profile\u003d7 and billing_network\u003d9 for it with start_date\u003d2018-08-01 and end_date\u003d2018-08-02\n\nhow to achieve that from my module ?",
      "parentUuid": "3acd31a7_d41c9c79",
      "range": {
        "startLine": 5,
        "startChar": 28,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "df6fbef93f3d4a56b878684028492813dd314faf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3acd31a7_5409ac30",
        "filename": "db_scripts/diff/15419.up",
        "patchSetId": 14
      },
      "lineNbr": 5,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2018-07-17T14:50:30Z",
      "side": 1,
      "message": "for this you would would use add_contracts_billing_profile_schedule explicitly.\n\nthe mappings to add are handed over in a serialized string format, which conforms to what you would use for the VALUES() clause of the insert of the legacy billing.billing_mappings. see the examples at the end of https://gerrit.mgm.sipwise.com/#/c/21672/14/db_scripts/diff/15417.up\n\nthe very first sub in https://gerrit.mgm.sipwise.com/#/c/21820/13/lib/NGCP/Panel/Utils/BillingMappings.pm shows how to use that in action, ie. from within dbix. it is (and most likely will remain) the only form of this invocation.",
      "parentUuid": "3acd31a7_94162454",
      "range": {
        "startLine": 5,
        "startChar": 28,
        "endLine": 5,
        "endChar": 47
      },
      "revId": "df6fbef93f3d4a56b878684028492813dd314faf",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}